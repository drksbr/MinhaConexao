var ht=e=>{throw TypeError(e)};var W=(e,t,s)=>t.has(e)||ht("Cannot "+s);var i=(e,t,s)=>(W(e,t,"read from private field"),s?s.call(e):t.get(e)),b=(e,t,s)=>t.has(e)?ht("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),u=(e,t,s,r)=>(W(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),f=(e,t,s)=>(W(e,t,"access private method"),s);import{i as vt,f as Ct,h as St,j as Ot,c as Et,k as wt,p as ot,l as O,s as $,m as z,n as It,q as K,t as ct,v as Qt,w as xt,x as Tt,y as ut,z as gt,r as w,A as Ft}from"./index-CtE1KQDU.js";function Ut(e,t){return Array.isArray(e)?e.map(s=>s===null?null:t(s)):vt(e)?Object.keys(e).reduce((s,r)=>(s[r]=t(e[r]),s),{}):e!=null?t(e):null}function lt(e){return Ut(e,t=>t==="auto"?"auto":`span ${t}/span ${t}`)}const Dt=Ct(function(t,s){const{area:r,colSpan:d,colStart:o,colEnd:a,rowEnd:m,rowSpan:l,rowStart:p,...v}=t,c=St({gridArea:r,gridColumn:lt(d),gridRow:lt(l),gridColumnStart:o,gridColumnEnd:a,gridRowStart:p,gridRowEnd:m});return Ot.jsx(Et.div,{ref:s,__css:c,...v})});Dt.displayName="GridItem";var R,n,k,g,F,_,Q,S,B,P,j,U,D,x,L,h,A,q,J,X,Y,Z,tt,et,mt,bt,_t=(bt=class extends wt{constructor(t,s){super();b(this,h);b(this,R);b(this,n);b(this,k);b(this,g);b(this,F);b(this,_);b(this,Q);b(this,S);b(this,B);b(this,P);b(this,j);b(this,U);b(this,D);b(this,x);b(this,L,new Set);this.options=s,u(this,R,t),u(this,S,null),u(this,Q,ot()),this.options.experimental_prefetchInRender||i(this,Q).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,n).addObserver(this),dt(i(this,n),this.options)?f(this,h,A).call(this):this.updateResult(),f(this,h,Y).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return st(i(this,n),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return st(i(this,n),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,f(this,h,Z).call(this),f(this,h,tt).call(this),i(this,n).removeObserver(this)}setOptions(t,s){const r=this.options,d=i(this,n);if(this.options=i(this,R).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof O(this.options.enabled,i(this,n))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");f(this,h,et).call(this),i(this,n).setOptions(this.options),r._defaulted&&!$(this.options,r)&&i(this,R).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,n),observer:this});const o=this.hasListeners();o&&ft(i(this,n),d,this.options,r)&&f(this,h,A).call(this),this.updateResult(s),o&&(i(this,n)!==d||O(this.options.enabled,i(this,n))!==O(r.enabled,i(this,n))||z(this.options.staleTime,i(this,n))!==z(r.staleTime,i(this,n)))&&f(this,h,q).call(this);const a=f(this,h,J).call(this);o&&(i(this,n)!==d||O(this.options.enabled,i(this,n))!==O(r.enabled,i(this,n))||a!==i(this,x))&&f(this,h,X).call(this,a)}getOptimisticResult(t){const s=i(this,R).getQueryCache().build(i(this,R),t),r=this.createResult(s,t);return jt(this,r)&&(u(this,g,r),u(this,_,this.options),u(this,F,i(this,n).state)),r}getCurrentResult(){return i(this,g)}trackResult(t,s){const r={};return Object.keys(t).forEach(d=>{Object.defineProperty(r,d,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(d),s==null||s(d),t[d])})}),r}trackProp(t){i(this,L).add(t)}getCurrentQuery(){return i(this,n)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=i(this,R).defaultQueryOptions(t),r=i(this,R).getQueryCache().build(i(this,R),s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(t){return f(this,h,A).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,g)))}createResult(t,s){var at;const r=i(this,n),d=this.options,o=i(this,g),a=i(this,F),m=i(this,_),p=t!==r?t.state:i(this,k),{state:v}=t;let c={...v},T=!1,y;if(s._optimisticResults){const C=this.hasListeners(),V=!C&&dt(t,s),Rt=C&&ft(t,r,s,d);(V||Rt)&&(c={...c,...Tt(v.data,t.options)}),s._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:M,errorUpdatedAt:I,status:E}=c;if(s.select&&c.data!==void 0)if(o&&c.data===(a==null?void 0:a.data)&&s.select===i(this,B))y=i(this,P);else try{u(this,B,s.select),y=s.select(c.data),y=ut(o==null?void 0:o.data,y,s),u(this,P,y),u(this,S,null)}catch(C){u(this,S,C)}else y=c.data;if(s.placeholderData!==void 0&&y===void 0&&E==="pending"){let C;if(o!=null&&o.isPlaceholderData&&s.placeholderData===(m==null?void 0:m.placeholderData))C=o.data;else if(C=typeof s.placeholderData=="function"?s.placeholderData((at=i(this,j))==null?void 0:at.state.data,i(this,j)):s.placeholderData,s.select&&C!==void 0)try{C=s.select(C),u(this,S,null)}catch(V){u(this,S,V)}C!==void 0&&(E="success",y=ut(o==null?void 0:o.data,C,s),T=!0)}i(this,S)&&(M=i(this,S),y=i(this,P),I=Date.now(),E="error");const G=c.fetchStatus==="fetching",N=E==="pending",H=E==="error",rt=N&&G,nt=y!==void 0;return{status:E,fetchStatus:c.fetchStatus,isPending:N,isSuccess:E==="success",isError:H,isInitialLoading:rt,isLoading:rt,data:y,dataUpdatedAt:c.dataUpdatedAt,error:M,errorUpdatedAt:I,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>p.dataUpdateCount||c.errorUpdateCount>p.errorUpdateCount,isFetching:G,isRefetching:G&&!N,isLoadingError:H&&!nt,isPaused:c.fetchStatus==="paused",isPlaceholderData:T,isRefetchError:H&&nt,isStale:it(t,s),refetch:this.refetch,promise:i(this,Q)}}updateResult(t){const s=i(this,g),r=this.createResult(i(this,n),this.options);if(u(this,F,i(this,n).state),u(this,_,this.options),i(this,F).data!==void 0&&u(this,j,i(this,n)),$(r,s))return;if(this.options.experimental_prefetchInRender){const a=p=>{r.status==="error"?p.reject(r.error):r.data!==void 0&&p.resolve(r.data)},m=()=>{const p=u(this,Q,r.promise=ot());a(p)},l=i(this,Q);switch(l.status){case"pending":a(l);break;case"fulfilled":(r.status==="error"||r.data!==l.value)&&m();break;case"rejected":(r.status!=="error"||r.error!==l.reason)&&m();break}}u(this,g,r);const d={},o=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,m=typeof a=="function"?a():a;if(m==="all"||!m&&!i(this,L).size)return!0;const l=new Set(m??i(this,L));return this.options.throwOnError&&l.add("error"),Object.keys(i(this,g)).some(p=>{const v=p;return i(this,g)[v]!==s[v]&&l.has(v)})};(t==null?void 0:t.listeners)!==!1&&o()&&(d.listeners=!0),f(this,h,mt).call(this,{...d,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&f(this,h,Y).call(this)}},R=new WeakMap,n=new WeakMap,k=new WeakMap,g=new WeakMap,F=new WeakMap,_=new WeakMap,Q=new WeakMap,S=new WeakMap,B=new WeakMap,P=new WeakMap,j=new WeakMap,U=new WeakMap,D=new WeakMap,x=new WeakMap,L=new WeakMap,h=new WeakSet,A=function(t){f(this,h,et).call(this);let s=i(this,n).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(It)),s},q=function(){f(this,h,Z).call(this);const t=z(this.options.staleTime,i(this,n));if(K||i(this,g).isStale||!ct(t))return;const r=Qt(i(this,g).dataUpdatedAt,t)+1;u(this,U,setTimeout(()=>{i(this,g).isStale||this.updateResult()},r))},J=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,n)):this.options.refetchInterval)??!1},X=function(t){f(this,h,tt).call(this),u(this,x,t),!(K||O(this.options.enabled,i(this,n))===!1||!ct(i(this,x))||i(this,x)===0)&&u(this,D,setInterval(()=>{(this.options.refetchIntervalInBackground||xt.isFocused())&&f(this,h,A).call(this)},i(this,x)))},Y=function(){f(this,h,q).call(this),f(this,h,X).call(this,f(this,h,J).call(this))},Z=function(){i(this,U)&&(clearTimeout(i(this,U)),u(this,U,void 0))},tt=function(){i(this,D)&&(clearInterval(i(this,D)),u(this,D,void 0))},et=function(){const t=i(this,R).getQueryCache().build(i(this,R),this.options);if(t===i(this,n))return;const s=i(this,n);u(this,n,t),u(this,k,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},mt=function(t){gt.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(i(this,g))}),i(this,R).getQueryCache().notify({query:i(this,n),type:"observerResultsUpdated"})})},bt);function Pt(e,t){return O(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function dt(e,t){return Pt(e,t)||e.state.data!==void 0&&st(e,t,t.refetchOnMount)}function st(e,t,s){if(O(t.enabled,e)!==!1){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&it(e,t)}return!1}function ft(e,t,s,r){return(e!==t||O(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&it(e,s)}function it(e,t){return O(t.enabled,e)!==!1&&e.isStaleByTime(z(t.staleTime,e))}function jt(e,t){return!$(e.getCurrentResult(),t)}var yt=w.createContext(!1),Lt=()=>w.useContext(yt);yt.Provider;function Mt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var At=w.createContext(Mt()),kt=()=>w.useContext(At);function Bt(e,t){return typeof e=="function"?e(...t):!!e}function zt(){}var Gt=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Nt=e=>{w.useEffect(()=>{e.clearReset()},[e])},Ht=({result:e,errorResetBoundary:t,throwOnError:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Bt(s,[e.error,r]),Vt=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Wt=(e,t)=>e.isLoading&&e.isFetching&&!t,$t=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,pt=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function Kt(e,t,s){var v,c,T,y,M;const r=Ft(),d=Lt(),o=kt(),a=r.defaultQueryOptions(e);(c=(v=r.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||c.call(v,a),a._optimisticResults=d?"isRestoring":"optimistic",Vt(a),Gt(a,o),Nt(o);const m=!r.getQueryState(e.queryKey),[l]=w.useState(()=>new t(r,a)),p=l.getOptimisticResult(a);if(w.useSyncExternalStore(w.useCallback(I=>{const E=d?()=>{}:l.subscribe(gt.batchCalls(I));return l.updateResult(),E},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),w.useEffect(()=>{l.setOptions(a,{listeners:!1})},[a,l]),$t(a,p))throw pt(a,l,o);if(Ht({result:p,errorResetBoundary:o,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw p.error;if((y=(T=r.getDefaultOptions().queries)==null?void 0:T._experimental_afterQuery)==null||y.call(T,a,p),a.experimental_prefetchInRender&&!K&&Wt(p,d)){const I=m?pt(a,l,o):(M=r.getQueryCache().get(a.queryHash))==null?void 0:M.promise;I==null||I.catch(zt).finally(()=>{l.hasListeners()||l.updateResult()})}return a.notifyOnChangeProps?p:l.trackResult(p)}function Yt(e,t){return Kt(e,_t)}export{Dt as G,Yt as u};
